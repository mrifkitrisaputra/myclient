{
    "sourceFile": "src/main/java/com/client/render/SpriteLoader.java",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 4,
            "patches": [
                {
                    "date": 1764831883072,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1764832465226,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,28 +1,47 @@\n-package com.client.render;\r\n+package com.myclient.render;\r\n \r\n import java.util.HashMap;\r\n-\r\n import javafx.scene.image.Image;\r\n \r\n public class SpriteLoader {\r\n \r\n-    private static final HashMap<String, Image> cache = new HashMap<>();\r\n+    private final HashMap<String, Image> cache = new HashMap<>();\r\n \r\n-    public static Image load(String path, int w, int h) {\r\n-        if (cache.containsKey(path)) {\r\n-            return cache.get(path);\r\n+    // Path folder aset Anda (sesuai struktur folder lama)\r\n+    private static final String PLAYER_PATH = \"/com/client/assets/player/\";\r\n+\r\n+    /**\r\n+     * Method ini dipanggil oleh VisualPlayer: loader.get(\"sP2Down_0\")\r\n+     * Kita harus memetakan nama string ke file PNG yang benar.\r\n+     */\r\n+    public Image get(String name) {\r\n+        if (cache.containsKey(name)) {\r\n+            return cache.get(name);\r\n         }\r\n-        Image img = new Image(SpriteLoader.class.getResourceAsStream(path), w, h, false, false);\r\n+\r\n+        // Coba load dari folder player (asumsi nama file = nama key + .png)\r\n+        // Jika struktur file Anda beda, sesuaikan path ini.\r\n+        String fullPath = PLAYER_PATH + name + \".png\";\r\n+        \r\n+        try {\r\n+            Image img = new Image(getClass().getResourceAsStream(fullPath));\r\n+            if (img.isError()) {\r\n+                System.err.println(\"Gagal load sprite: \" + name);\r\n+                return null;\r\n+            }\r\n+            cache.put(name, img);\r\n+            return img;\r\n+        } catch (Exception e) {\r\n+            // Jika file tidak ditemukan, return null agar VisualPlayer menangani fallback\r\n+            return null;\r\n+        }\r\n+    }\r\n+\r\n+    // Method manual load jika diperlukan di tempat lain\r\n+    public Image load(String path) {\r\n+        if (cache.containsKey(path)) return cache.get(path);\r\n+        Image img = new Image(getClass().getResourceAsStream(path));\r\n         cache.put(path, img);\r\n         return img;\r\n     }\r\n-\r\n-    public static Image[] loadFrames(String folder, int count, int w, int h) {\r\n-        Image[] frames = new Image[count];\r\n-        for (int i = 0; i < count; i++) {\r\n-            String path = folder + \"/frame\" + i + \".png\";\r\n-            frames[i] = load(path, w, h);\r\n-        }\r\n-        return frames;\r\n-    }\r\n-}\r\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1764832471311,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,9 +8,9 @@\n \r\n     private final HashMap<String, Image> cache = new HashMap<>();\r\n \r\n     // Path folder aset Anda (sesuai struktur folder lama)\r\n-    private static final String PLAYER_PATH = \"/com/client/assets/player/\";\r\n+    private static final String PLAYER_PATH = \"/com/client/assets/player/\";\r\n \r\n     /**\r\n      * Method ini dipanggil oleh VisualPlayer: loader.get(\"sP2Down_0\")\r\n      * Kita harus memetakan nama string ke file PNG yang benar.\r\n"
                },
                {
                    "date": 1764832483169,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n-package com.myclient.render;\r\n+package com.client.render;\r\n \r\n import java.util.HashMap;\r\n \r\n import javafx.scene.image.Image;\r\n"
                },
                {
                    "date": 1764836061892,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,48 +1,30 @@\n package com.client.render;\r\n \r\n import java.util.HashMap;\r\n-\r\n import javafx.scene.image.Image;\r\n \r\n public class SpriteLoader {\r\n \r\n     private final HashMap<String, Image> cache = new HashMap<>();\r\n \r\n-    // Path folder aset Anda (sesuai struktur folder lama)\r\n     private static final String PLAYER_PATH = \"/com/client/assets/player/\";\r\n \r\n-    /**\r\n-     * Method ini dipanggil oleh VisualPlayer: loader.get(\"sP2Down_0\")\r\n-     * Kita harus memetakan nama string ke file PNG yang benar.\r\n-     */\r\n     public Image get(String name) {\r\n+\r\n         if (cache.containsKey(name)) {\r\n             return cache.get(name);\r\n         }\r\n \r\n-        // Coba load dari folder player (asumsi nama file = nama key + .png)\r\n-        // Jika struktur file Anda beda, sesuaikan path ini.\r\n         String fullPath = PLAYER_PATH + name + \".png\";\r\n-        \r\n-        try {\r\n-            Image img = new Image(getClass().getResourceAsStream(fullPath));\r\n-            if (img.isError()) {\r\n-                System.err.println(\"Gagal load sprite: \" + name);\r\n-                return null;\r\n-            }\r\n-            cache.put(name, img);\r\n-            return img;\r\n-        } catch (Exception e) {\r\n-            // Jika file tidak ditemukan, return null agar VisualPlayer menangani fallback\r\n+        var stream = getClass().getResourceAsStream(fullPath);\r\n+\r\n+        if (stream == null) {\r\n+            System.err.println(\"‚ùå Sprite tidak ditemukan: \" + fullPath);\r\n             return null;\r\n         }\r\n-    }\r\n \r\n-    // Method manual load jika diperlukan di tempat lain\r\n-    public Image load(String path) {\r\n-        if (cache.containsKey(path)) return cache.get(path);\r\n\\ No newline at end of file\n-        Image img = new Image(getClass().getResourceAsStream(path));\r\n-        cache.put(path, img);\r\n+        Image img = new Image(stream);\r\n+        cache.put(name, img);\r\n         return img;\r\n     }\r\n-}\n+}\r\n"
                }
            ],
            "date": 1764831883072,
            "name": "Commit-0",
            "content": "package com.client.render;\r\n\r\nimport java.util.HashMap;\r\n\r\nimport javafx.scene.image.Image;\r\n\r\npublic class SpriteLoader {\r\n\r\n    private static final HashMap<String, Image> cache = new HashMap<>();\r\n\r\n    public static Image load(String path, int w, int h) {\r\n        if (cache.containsKey(path)) {\r\n            return cache.get(path);\r\n        }\r\n        Image img = new Image(SpriteLoader.class.getResourceAsStream(path), w, h, false, false);\r\n        cache.put(path, img);\r\n        return img;\r\n    }\r\n\r\n    public static Image[] loadFrames(String folder, int count, int w, int h) {\r\n        Image[] frames = new Image[count];\r\n        for (int i = 0; i < count; i++) {\r\n            String path = folder + \"/frame\" + i + \".png\";\r\n            frames[i] = load(path, w, h);\r\n        }\r\n        return frames;\r\n    }\r\n}\r\n"
        }
    ]
}